# ğŸ“Š ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

Ğ­Ñ‚Ğ¾Ñ‚ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ Ğ¾Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ Ğ²ÑĞµ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸, ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµĞ¼Ñ‹Ğµ Ñ‡ĞµÑ€ĞµĞ· `prom-client` Ğ² `/metrics`.

---

## ğŸ§± Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğµ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ (`prom-client`)

### `nodejs_eventloop_lag_seconds`

- **Ğ¢Ğ¸Ğ¿**: Gauge
- **ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ**: Ğ—Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ° event loop Ğ² ÑĞµĞºÑƒĞ½Ğ´Ğ°Ñ….
- **ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ°Ğ»ĞµÑ€Ñ‚Ğ°**: > 0.1s â€” Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ğµ.

### `nodejs_heap_size_total_bytes`

- **Ğ¢Ğ¸Ğ¿**: Gauge
- **ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ**: ĞĞ±Ñ‰Ğ¸Ğ¹ Ğ¾Ğ±ÑŠÑ‘Ğ¼ heap-Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸.

### `nodejs_heap_space_size_used_bytes`

- **Ğ¢Ğ¸Ğ¿**: Gauge
- **ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ**: Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ğ°Ñ Ğ¿Ğ°Ğ¼ÑÑ‚ÑŒ Ğ¿Ğ¾ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚ÑĞ¼ (new, old, etc.).

### `nodejs_active_handles`

- **Ğ¢Ğ¸Ğ¿**: Gauge
- **ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ**: ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… handles (Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€Ñ‹, ÑĞ¾ĞºĞµÑ‚Ñ‹ Ğ¸ Ñ‚.Ğ´.).

### `nodejs_active_requests`

- **Ğ¢Ğ¸Ğ¿**: Gauge
- **ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ**: ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, HTTP).

---

## ğŸ§  ĞŸÑ€Ğ¾Ñ†ĞµÑÑĞ½Ñ‹Ğµ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸

### `process_cpu_usage`

- **Ğ¢Ğ¸Ğ¿**: Gauge
- **ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ**: CPU usage Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ° (Ğ¾Ñ‚Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ).

### `process_resident_memory_bytes`

- **Ğ¢Ğ¸Ğ¿**: Gauge
- **ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ**: Ğ¤Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¿Ğ°Ğ¼ÑÑ‚ÑŒ, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ğ°Ñ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ¾Ğ¼.

### `process_virtual_memory_bytes`

- **Ğ¢Ğ¸Ğ¿**: Gauge
- **ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ**: Ğ’Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ°Ğ¼ÑÑ‚ÑŒ.

### `process_uptime_seconds`

- **Ğ¢Ğ¸Ğ¿**: Gauge
- **ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ**: Ğ’Ñ€ĞµĞ¼Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ° Ğ² ÑĞµĞºÑƒĞ½Ğ´Ğ°Ñ….

---

## ğŸ”§ ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ñ‹Ğµ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸

### `app_uptime_seconds`

- **Ğ¢Ğ¸Ğ¿**: Gauge
- **ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ**: ĞĞ¿Ñ‚Ğ°Ğ¹Ğ¼ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ (Ğ¾Ñ‚ ÑÑ‚Ğ°Ñ€Ñ‚Ğ° ÑĞµÑ€Ğ²ĞµÑ€Ğ°).
- **Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ**: ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸.

### `app_info`

- **Ğ¢Ğ¸Ğ¿**: Gauge
- **ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ**: Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ°Ñ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ° Ñ Ğ»ĞµĞ¹Ğ±Ğ»Ğ°Ğ¼Ğ¸.
- **Ğ›ĞµĞ¹Ğ±Ğ»Ñ‹**:
  - `version` â€” Ğ²ĞµÑ€ÑĞ¸Ñ Ğ¸Ğ· `package.json`
  - `node_env` â€” Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ (`production`, `development`)
- **Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ**: `1` (Ñ„Ğ»Ğ°Ğ³ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸).

---

## ğŸ“ˆ HTTP ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸ (ĞµÑĞ»Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ñ‹)

### `http_requests_total`

- **Ğ¢Ğ¸Ğ¿**: Counter
- **ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ**: ĞĞ±Ñ‰ĞµĞµ Ñ‡Ğ¸ÑĞ»Ğ¾ HTTP-Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ².
- **Ğ›ĞµĞ¹Ğ±Ğ»Ñ‹**:
  - `method` â€” `GET`, `POST`
  - `path` â€” URL Ğ¿ÑƒÑ‚Ğ¸
  - `status` â€” HTTP ÑÑ‚Ğ°Ñ‚ÑƒÑ

---

## ğŸ“£ ĞĞ»ĞµÑ€Ñ‚Ñ‹

| ĞĞ»ĞµÑ€Ñ‚ | Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ğµ | Severity |
|------|--------|----------|
| `HighEventLoopLag` | `> 0.1s` | warning |
| `AppDown` | `up == 0` | critical |
| `HighMemoryUsage` | `> 80%` | warning |

---

> ğŸ’¡ ĞŸĞ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ°: Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹ `rate(http_requests_total[1m])` Ğ´Ğ»Ñ RPS.
